<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:MoleculeEfficienceTracker"
    xmlns:chart="clr-namespace:Syncfusion.Maui.Charts;assembly=Syncfusion.Maui.Charts"
    x:Class="MoleculeEfficienceTracker.ChargePage"
    Title="Charge">
    <ContentPage.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Resources/Styles/ModernStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <Color x:Key="MainBgColor">#F0F4F8</Color>
        </ResourceDictionary>
    </ContentPage.Resources>
    <ContentPage.Background>
        <SolidColorBrush Color="{StaticResource MainBgColor}"/>
    </ContentPage.Background>

    <ScrollView>
        <VerticalStackLayout Padding="10"
                             Spacing="12">
            <Label Text="Moyennes journaliÃ¨res"
                   FontAttributes="Bold"/>

            <Label Text="24h"
                   FontAttributes="Bold"/>
            <CollectionView x:Name="StatsCollection1d"
                            HeightRequest="220">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid ColumnDefinitions="2*,Auto,Auto,Auto,Auto"
                              ColumnSpacing="8"
                              Padding="6">
                            <Label Grid.Column="0"
                                   Text="{Binding MoleculeName}"
                                   FontAttributes="Bold"/>
                            <Label Grid.Column="1"
                                   Text="{Binding AvgDose, StringFormat='{}{0:F1}mg'}"/>
                            <Label Grid.Column="2"
                                   Text="{Binding AvgCount, StringFormat='{}{0:F1}prises'}"/>
                            <Label Grid.Column="3"
                                   Text="{Binding VariationText}"
                                   FontAttributes="Bold"/>
                            <!-- Optionnel : -->
                            <!-- <Label Grid.Column="4"
                                   Text="{Binding PeakInfoText}"
                                   FontSize="10"/> -->
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <Label Text="7 jours"
                   FontAttributes="Bold"/>
            <CollectionView x:Name="StatsCollection7d"
                            HeightRequest="220">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid ColumnDefinitions="2*,Auto,Auto,Auto,Auto"
                              ColumnSpacing="8"
                              Padding="6">
                            <Label Grid.Column="0"
                                   Text="{Binding MoleculeName}"
                                   FontAttributes="Bold"/>
                            <Label Grid.Column="1"
                                   Text="{Binding AvgDose, StringFormat='{}{0:F1}mg'}"/>
                            <Label Grid.Column="2"
                                   Text="{Binding AvgCount, StringFormat='{}{0:F1}prises'}"/>
                            <Label Grid.Column="3"
                                   Text="{Binding VariationText}"
                                   FontAttributes="Bold"/>
                            <!-- Optionnel : -->
                            <!-- <Label Grid.Column="4"
                                   Text="{Binding PeakInfoText}"
                                   FontSize="10"/> -->
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>


            <Label Text="30 jours"
                   FontAttributes="Bold"/>
            <CollectionView x:Name="StatsCollection30d"
                            HeightRequest="220">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid ColumnDefinitions="2*,Auto,Auto,Auto,Auto"
                              ColumnSpacing="8"
                              Padding="6">
                            <Label Grid.Column="0"
                                   Text="{Binding MoleculeName}"
                                   FontAttributes="Bold"/>
                            <Label Grid.Column="1"
                                   Text="{Binding AvgDose, StringFormat='{}{0:F1}mg'}"/>
                            <Label Grid.Column="2"
                                   Text="{Binding AvgCount, StringFormat='{}{0:F1}prises'}"/>
                            <Label Grid.Column="3"
                                   Text="{Binding VariationText}"
                                   FontAttributes="Bold"/>
                            <!-- Optionnel : -->
                            <!-- <Label Grid.Column="4"
                                    Text="{Binding PeakInfoText}"
                                    FontSize="10"/> -->
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>